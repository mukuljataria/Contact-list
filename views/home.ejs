<html>
    <head>
        <title>
            <%= locals.title %>
        </title>
        <script src="https://kit.fontawesome.com/e07ee4bb6e.js" crossorigin="anonymous"></script>
        <!-- our css should be below all other styles so that we can override it -->
        <link rel="stylesheet" href="/css/home.css">
    </head>
    <body>
        <h1 id="page-heading">
            <i class="fas fa-address-book" ></i>
            My Contacts List
        </h1>
        <div id="contacts-list-container">
            <ul>
                <!-- <% for(let i=0;i<locals.contact_list.length;i++){ %>
                    <li> 
                        <p>
                            <%= contact_list[i].name %>
                        </p>
                        <p>
                            <%= contact_list[i].phone %>
                        </p>
                    </li>
                 <% } %>    -->
                 <% for(let i of contact_list){ %>
                    <li class="contact"> 
                        <div class="details">
                            <p>
                                <%= i.name %>
                                </p>
                                <p>
                                <%= i.phone %>
                                </p>
                        </div>
                        <div class = "delete-button">
                            <a href="/delete-contact/?id=<%= i._id %>">
                                <i class="fas fa-window-close" ></i>
                            </a>
                            <!-- <a href="/delete-contact/<%= i.phone %>">
                                <i class="fas fa-window-close" ></i>
                            </a> -->
                        </div>
                        
                    </li>
                 <% } %>  
            </ul>
        </div> 
        <form id="new-contact-form" action="/create-contact" method="post">
            <input type="text" name="name" placeholder="Enter Name" required> 
            <input type="text" name="phone" placeholder="Enter Phone" required>
            <button type="submit">Add</button>            
        </form>
        <script type="text/javascript" src="/js/home.js"></script>
        
    </body>
</html>